<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="js/touch.js"></script>
    <script src="js/zepto.js"></script>
    <script src="js/jquery.js"></script>
</head>
<style>
    .wheel{
        width:100%;height:auto;
        overflow:hidden;
    }
    .box{
        width:400%;
        height:300px;

    }
    .box a{
        width:25%;height:100%;
        float:left;
    }
    .box a:nth-child(1){
         background:green;
     }
    .box a:nth-child(2){
        background:orange;
    }
    .box a:nth-child(3){
        background:blue;
    }
    .box a:nth-child(4){
        background:yellow;
    }
</style>
<body>
<div class="wheel">
    <div class="box">
    <a href="javascript:;"></a>
    <a href="javascript:;"></a>
    <a href="javascript:;"></a>
    <a href="javascript:;"></a>
    </div>
</div>
</body>
</html>
<script>
    var leftW;var num=0;var width=document.querySelector(".wheel").offsetWidth;
    $(".box").mousedown(function(e){
        e.preventDefault();
    })
    $(".box").mouseup(function(e){
        e.preventDefault();
    })
    touch.on("body","dragstart",".box",function(e){
        $(".box").css({
            transition:"none"
        })
        leftW=parseInt($(".box").css("marginLeft"))?parseInt($(".box").css("marginLeft")):0;
    })
    touch.on("body","drag",".box",function(e){
        $(".box").css({
            marginLeft: e.x+leftW
        })
    })
   /* touch.on("body","dragend",".box",function(e){
        if(Math.abs(e.x)>100){
            if(e.direction=="left"){
                num++;
                if(num==$(".box a").length){
                    num=$(".box a").length-1;
                }
            }else if(e.direction=="right"){
                num--;
                if(num==-1){
                    num=0;
                }
            }
            $(".box a").css({
                marginLeft:-num*width,
                transition:"margin-left 1s ease"
            })
        }else{
            $(".box").css({
                marginLeft:-num*width
            })
        }
    })*/
    touch.on(".wheel","dragend",".box",function(e){
        console.log(Math.abs(e.x))
        if(Math.abs(e.x)>100){
            if(e.direction=="left"){
                num++;
                if(num==$(".box a").length){
                    num=$(".box a").length-1;
                }
            }else if(e.direction=="right"){
                num--;
                if(num==-1){
                    num=0;
                }
            }
            $(".box").css({
                marginLeft:-num*width,
                transition:"margin-left 1s ease"
            })
        }else{
            $(".box").css({
                marginLeft:-num*width,
                transition:"margin-left 1s ease"

            });
        }
    })
</script>