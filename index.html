<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>banner</title>
    <script src="js/touch.js"></script>
    <script src="js/zepto.js"></script>
    <script src="js/jquery.js"></script>
</head>
<style>
    .box{
        width:500px;
        height:300px;
        border:1px solid #000;
        margin:auto;
        overflow: hidden;
    }
    .box ul{
        width:2000px;height:100%;
        list-style: none;margin:0;padding:0;
    }
    .box ul li{
        width:500px;
        height:300px;float: left;
        list-style: none;margin:0;padding:0;
    }
    .box ul li a{
        float: left;
    }
</style>
<body>

<div class="box">
    <ul class="box-ul">
        <li><a><img src="img/1.jpg" alt=""></a></li>
        <li><a><img src="img/2.jpg" alt=""></a></li>
        <li><a><img src="img/3.jpg" alt=""></a></li>
        <li><a><img src="img/4.jpg" alt=""></a></li>
    </ul>
</div>
</body>
</html>
<script>
    var marginL;
    var num=0;
    var boxul=document.getElementsByTagName("div")[0];
    var width=boxul.offsetWidth;
    $(".box-ul").mousedown(function(e){
        e.preventDefault();
    })
    $(".box-ul").mouseup(function(e){
        e.preventDefault();
    })
    touch.on(".box","dragstart",".box-ul",function(e){
        $(".box-ul").css({
            transition:"null"
        })
        marginL=parseInt($(".box-ul").css("marginLeft"))?parseInt($(".box-ul").css("marginLeft")):0;
    })
    touch.on(".box","drag",".box-ul",function(e){
        $(".box-ul").css({
            marginLeft: marginL+e.x
        })

    })

    touch.on(".box","dragend",".box-ul",function(e){
        console.log(Math.abs(e.x))
        if(Math.abs(e.x)>100){
            if(e.direction=="left"){
                num++;
                if(num==$(".box-ul li").length){
                    num=$(".box-ul li").length-1;
                }
            }else if(e.direction=="right"){
                num--;
                if(num==-1){
                    num=0;
                }
            }
            $(".box-ul").css({
                marginLeft:-num*width,
                transition:"margin-left 1s ease"
            })
        }else{
            $(".box-ul").css({
                marginLeft:-width,
                transition:"margin-left 1s ease"

            });
        }
    })
</script>